# MBPPè¿­ä»£ä¿®å¤å®éªŒè„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬å¥—è„šæœ¬ç”¨äºè¿è¡ŒMBPPæ•°æ®é›†çš„è¿­ä»£ä¿®å¤å®éªŒï¼Œæ”¯æŒä¸åŒæ¸©åº¦å‚æ•°çš„å¤§è§„æ¨¡æµ‹è¯•ã€‚

## ğŸš€ è„šæœ¬è¯´æ˜

### 1. `run_mbpp_iterative_experiment.py` - å®Œæ•´å®éªŒè„šæœ¬

**åŠŸèƒ½**: è¿è¡Œå¤§è§„æ¨¡MBPPè¿­ä»£ä¿®å¤å®éªŒï¼Œæ”¯æŒå¤šæ¸©åº¦å¹¶è¡Œæµ‹è¯•

**ç‰¹ç‚¹**:
- æ”¯æŒ100+ä»»åŠ¡çš„å®Œæ•´å®éªŒ
- å¤šæ¸©åº¦å¹¶è¡Œæ‰§è¡Œ
- è‡ªåŠ¨ç»“æœåˆ†æå’ŒæŠ¥å‘Šç”Ÿæˆ
- MBPPæ ¼å¼è½¬æ¢å’Œè¯„ä¼°

**ä½¿ç”¨æ–¹æ³•**:
```bash
# åŸºæœ¬ç”¨æ³• - 100ä¸ªä»»åŠ¡ï¼Œ5ä¸ªæ¸©åº¦ï¼Œ3è½®è¿­ä»£
python run_mbpp_iterative_experiment.py \
  --problem_file benchmarks/mbpp/data/langchain_mbpp_batch_974_tasks_gpt-4o-mini_20250830_220247.jsonl \
  --num_tasks 100 \
  --max_rounds 3 \
  --temperatures 0.1 0.3 0.5 0.7 0.9

# æ ‡å‡†æ‰§è¡Œ
python run_mbpp_iterative_experiment.py \
  --problem_file benchmarks/mbpp/data/langchain_mbpp_batch_974_tasks_gpt-4o-mini_20250830_220247.jsonl \
  --num_tasks 100 \
  --max_rounds 3 \
  --temperatures 0.1 0.3 0.5 0.7 0.9

# è‡ªå®šä¹‰å‚æ•°
python run_mbpp_iterative_experiment.py \
  --problem_file benchmarks/mbpp/data/langchain_mbpp_batch_974_tasks_gpt-4o-mini_20250830_220247.jsonl \
  --num_tasks 50 \
  --start_task 100 \
  --max_rounds 4 \
  --temperatures 0.2 0.4 0.6 0.8 \
  --model gpt-4o-mini
```

### 2. `run_mbpp_quick_test.py` - å¿«é€Ÿæµ‹è¯•è„šæœ¬

**åŠŸèƒ½**: å¿«é€ŸéªŒè¯è„šæœ¬åŠŸèƒ½ï¼Œé€‚åˆå°è§„æ¨¡æµ‹è¯•

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å¿«é€Ÿæµ‹è¯• - 5ä¸ªä»»åŠ¡ï¼Œ2ä¸ªæ¸©åº¦
python run_mbpp_quick_test.py \
  --problem_file benchmarks/mbpp/data/langchain_mbpp_batch_974_tasks_gpt-4o-mini_20250830_220247.jsonl \
  --num_tasks 5 \
  --temperatures 0.1 0.7
```

## ğŸ“Š å‚æ•°è¯´æ˜

### ä¸»è¦å‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--problem_file` | str | å¿…éœ€ | MBPPé—®é¢˜æ–‡ä»¶è·¯å¾„ |
| `--num_tasks` | int | 100 | å¤„ç†çš„ä»»åŠ¡æ•°é‡ |
| `--start_task` | int | 0 | èµ·å§‹ä»»åŠ¡ç´¢å¼• |
| `--max_rounds` | int | 3 | æœ€å¤§è¿­ä»£è½®æ•° |
| `--temperatures` | list | [0.1,0.3,0.5,0.7,0.9] | æ¸©åº¦å‚æ•°åˆ—è¡¨ |
| `--model` | str | gpt-4o-mini | ä½¿ç”¨çš„æ¨¡å‹ |


### é«˜çº§å‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--skip_conversion` | flag | False | è·³è¿‡MBPPæ ¼å¼è½¬æ¢ |

## ğŸ“ è¾“å‡ºç»“æ„

å®éªŒå®Œæˆåä¼šç”Ÿæˆä»¥ä¸‹ç›®å½•ç»“æ„ï¼š

```
mbpp_iterative_experiment_100tasks_3rounds_20250901_123456/
â”œâ”€â”€ experiment_results.json          # åŸå§‹å®éªŒç»“æœ
â”œâ”€â”€ experiment_report.md             # å®éªŒæŠ¥å‘Š
â”œâ”€â”€ T0.1/                           # æ¸©åº¦0.1çš„ç»“æœ
â”‚   â”œâ”€â”€ results/                    # è¿­ä»£ä¿®å¤ç»“æœ
â”‚   â”‚   â”œâ”€â”€ round_1_code.jsonl      # ç¬¬1è½®ä»£ç 
â”‚   â”‚   â”œâ”€â”€ round_1_results.jsonl   # ç¬¬1è½®æµ‹è¯•ç»“æœ
â”‚   â”‚   â”œâ”€â”€ round_2_code.jsonl      # ç¬¬2è½®ä»£ç ï¼ˆå¦‚æœæœ‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ round_2_results.jsonl   # ç¬¬2è½®æµ‹è¯•ç»“æœï¼ˆå¦‚æœæœ‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ task_*_final_status.json # å„ä»»åŠ¡æœ€ç»ˆçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ mbpp_format_results.jsonl # MBPPæ ¼å¼è½¬æ¢ç»“æœ
â”‚   â”‚   â””â”€â”€ mbpp_evaluation.txt     # MBPPè¯„ä¼°ç»“æœ
â”œâ”€â”€ T0.3/                           # æ¸©åº¦0.3çš„ç»“æœ
â”œâ”€â”€ T0.5/                           # æ¸©åº¦0.5çš„ç»“æœ
â”œâ”€â”€ T0.7/                           # æ¸©åº¦0.7çš„ç»“æœ
â””â”€â”€ T0.9/                           # æ¸©åº¦0.9çš„ç»“æœ
```

## ğŸ“ˆ ç»“æœåˆ†æ

### 1. å®éªŒæŠ¥å‘Š (`experiment_report.md`)

åŒ…å«ï¼š
- å®éªŒé…ç½®ä¿¡æ¯
- å„æ¸©åº¦çš„æˆåŠŸç‡ç»Ÿè®¡
- æ‰§è¡Œæ—¶é—´åˆ†æ
- é”™è¯¯ä¿¡æ¯æ±‡æ€»

### 2. åŸå§‹ç»“æœ (`experiment_results.json`)

åŒ…å«ï¼š
- æ¯ä¸ªæ¸©åº¦çš„å®éªŒçŠ¶æ€
- æ‰§è¡Œæ—¶é—´
- é”™è¯¯ä¿¡æ¯
- è¾“å‡ºç›®å½•è·¯å¾„

### 3. MBPPè¯„ä¼°ç»“æœ

æ¯ä¸ªæ¸©åº¦ç›®å½•ä¸‹åŒ…å«ï¼š
- `mbpp_format_results.jsonl`: è½¬æ¢ä¸ºMBPPæ ¼å¼çš„ç»“æœ
- `mbpp_evaluation.txt`: ä½¿ç”¨å®˜æ–¹MBPPè¯„ä¼°çš„ç»“æœ

## âš¡ æ€§èƒ½å»ºè®®

### 1. æ‰§è¡Œç­–ç•¥

```bash
# æ ‡å‡†é…ç½®
--num_tasks 100 --max_rounds 3
```

**æ³¨æ„**: 
- è„šæœ¬ä¼šä¸²è¡Œæ‰§è¡Œä¸åŒæ¸©åº¦çš„å®éªŒ
- é¿å…åŒæ—¶è¿è¡Œå¤šä¸ªå®éªŒå®ä¾‹

### 2. ä»»åŠ¡æ•°é‡

```bash
# å°è§„æ¨¡æµ‹è¯•
--num_tasks 10

# ä¸­ç­‰è§„æ¨¡
--num_tasks 50

# å¤§è§„æ¨¡å®éªŒ
--num_tasks 100
```

### 3. æ¸©åº¦é€‰æ‹©

```bash
# å¿«é€Ÿæµ‹è¯•
--temperatures 0.1 0.7

# å®Œæ•´æµ‹è¯•
--temperatures 0.1 0.3 0.5 0.7 0.9

# è‡ªå®šä¹‰èŒƒå›´
--temperatures 0.2 0.4 0.6 0.8
```

## ğŸ”§ æ•…éšœæ’é™¤

### 1. å¸¸è§é”™è¯¯

**APIé™åˆ¶é”™è¯¯**:
```
Rate limit reached for project
```
**è§£å†³æ–¹æ¡ˆ**: å‡å°‘ä»»åŠ¡æ•°é‡æˆ–å¢åŠ ä»»åŠ¡é—´éš”

**è¶…æ—¶é”™è¯¯**:
```
Process timed out
```
**è§£å†³æ–¹æ¡ˆ**: å‡å°‘`num_tasks`æˆ–å¢åŠ è¶…æ—¶æ—¶é—´

**æ–‡ä»¶ä¸å­˜åœ¨**:
```
Problem file not found
```
**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®

### 2. è°ƒè¯•æ¨¡å¼

ä½¿ç”¨å¿«é€Ÿæµ‹è¯•è„šæœ¬è¿›è¡Œè°ƒè¯•ï¼š
```bash
python run_mbpp_quick_test.py \
  --problem_file your_file.jsonl \
  --num_tasks 3 \
  --temperatures 0.1
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: å®Œæ•´å®éªŒ

```bash
# è¿è¡Œ100ä¸ªä»»åŠ¡çš„å®Œæ•´å®éªŒ
python run_mbpp_iterative_experiment.py \
  --num_tasks 100 \
  --max_rounds 3 \
  --temperatures 0.1 0.3 0.5 0.7 0.9
```

### ç¤ºä¾‹2: å¿«é€ŸéªŒè¯

```bash
# å¿«é€ŸéªŒè¯è„šæœ¬åŠŸèƒ½
python run_mbpp_quick_test.py \
  --num_tasks 5 \
  --temperatures 0.1 0.7
```

### ç¤ºä¾‹3: è‡ªå®šä¹‰å®éªŒ

```bash
# è‡ªå®šä¹‰å‚æ•°å®éªŒ
python run_mbpp_iterative_experiment.py \
  --num_tasks 50 \
  --start_task 200 \
  --max_rounds 4 \
  --temperatures 0.2 0.4 0.6 0.8 \
  --model gpt-4o-mini
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **å…ˆè¿è¡Œå¿«é€Ÿæµ‹è¯•**éªŒè¯è„šæœ¬åŠŸèƒ½
2. **åˆç†è®¾ç½®æ¸©åº¦èŒƒå›´**å¹³è¡¡æ•ˆæœå’Œæˆæœ¬
3. **ç›‘æ§APIä½¿ç”¨é‡**é¿å…è¶…å‡ºé™åˆ¶
4. **å®šæœŸä¿å­˜ç»“æœ**é˜²æ­¢æ•°æ®ä¸¢å¤±
5. **é¿å…åŒæ—¶è¿è¡Œå¤šä¸ªå®éªŒ**é˜²æ­¢èµ„æºå†²çª

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. APIå¯†é’¥æ˜¯å¦æœ‰æ•ˆ
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. ç³»ç»Ÿèµ„æºæ˜¯å¦å……è¶³
